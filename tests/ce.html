<!doctype html>
<html>
  <head>
    <script>
    customElements.define('but-why', class extends HTMLElement {

      static get observedAttributes() { return ['because']; }

      constructor() {
        super();
        document.body.appendChild(
          document.createElement('p')
        ).textContent = `constructor: ${this.children.length}`;

        addEventListener('DOMContentLoaded', () => {
          document.body.appendChild(
            document.createElement('p')
          ).textContent = `ready: ${this.children.length}`;
        });
      }

      attributeChangedCallback() {
        document.body.appendChild(
          document.createElement('p')
        ).textContent = `attributeChangedCallback: ${this.children.length}`;
      }

      connectedCallback() {
        document.body.appendChild(
          document.createElement('p')
        ).textContent = `connectedCallback: ${this.children.length}`;
      }

    });
    </script>
  </head>
  <body>
    <but-why because=123>
      <p>a</p>
      <p>b</p>
      <p>c</p>
    </but-why>
  </body>
</html>
